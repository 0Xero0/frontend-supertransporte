<ng-template #modal let-modal>
    <div class="modal-header">

      <div class="text-center">
        <img draggable="false" class="img-fluid logo-supertransporte mb-3" src="assets/img/cabecera/supertransporte.jpg"
             alt="ministerio-de-transporte">
             <h4 class="modal-title w-100 text-center" style="font-size: 32px; font-weight: bold; ">¿Olvidó su contraseña?</h4>
      </div>
      

      
      <button type="button" class="btn-close"  aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="alert alerta-contraseña alert-dismissible fade show" role="alert">
      <label class="fs-14px-personal">Para comenzar con el proceso de recuperación de contraseña, 
          <span class="fw-bold">Ingrese su usuario y correo electrónico principal</span>
          registrado en el Sistema de Supervisión al Transporte Vigía.</label>
    </div>
    <div class="modal-body">
      <form  class="d-flex flex-column flex-gap-10" [formGroup]="this.formulario">
        <div class="row">
          <div class="col-6">
            <fieldset>
              <label for="usuario" class="fw-semibold">Usuario</label>
              <input 
              placeholder="Ingrese su usuario"class="form-control" type="text" name="usuario" formControlName="usuario" required [ngClass]="{'input-error':this.formulario.controls['usuario'].errors &&
              this.formulario.controls['usuario'].dirty && (this.formulario.controls['usuario'].errors['required'] || 
              this.formulario.controls['usuario'].errors['minlength']) }"
               minlength="6">
              <span class="validacion"
              *ngIf="this.formulario.controls['usuario'].errors &&
                    this.formulario.controls['usuario'].dirty && this.formulario.controls['usuario'].errors['required']">
                    Ingrese su usuario
                </span>
              <span class="validacion"
              *ngIf="this.formulario.controls['usuario'].errors && 
              this.formulario.controls['usuario'].dirty && 
              this.formulario.controls['usuario'].errors['minlength']">
   Debe tener al menos 6 dígitos.
                </span>
            </fieldset>
          </div>
          <div class="col-6">
            <fieldset>
              <label for="correo" class="fw-semibold">Correo electrónico  </label>
              <input class="form-control" formControlName="correo" type="email" required placeholder="Ingrese su correo electrónico" 
              required [ngClass]="{'input-error':this.formulario.controls['correo'].errors &&
              this.formulario.controls['correo'].dirty && (this.formulario.controls['correo'].errors['required'] || 
              this.formulario.controls['correo'].errors['email']) }"
              >
              <span class="validacion"
              *ngIf="this.formulario.controls['correo'].errors &&
              this.formulario.controls['correo'].dirty && this.formulario.controls['correo'].errors['required']">
              Ingrese su correo electrónico.
          </span>
          <span class="validacion"
              *ngIf="this.formulario.controls['correo'].errors &&
              this.formulario.controls['correo'].dirty && this.formulario.controls['correo'].errors['email']">
              Ingrese un correo válido.
          </span>
            </fieldset>
          </div>
        </div>
      </form>
    </div>
    
      <button type="button" class="boton primario relleno fw-semibold mb-3 d-block mx-auto" (click)="recuperacion()">Enviar</button>
     
      <div class="modal-footer d-flex">
  
      </div>


    <div class="container text-center mb-5">
      <h3 class="fw-bold">Videotutorial: Como establecer o recuperar contraseña en el aplicativo PESV</h3>
      <div class="d-flex justify-content-center mt-3">
          <div class="embed-responsive embed-responsive-16by9" style=" border: 5px solid #707070;">
              <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/4zJH7N8OgV4" allowfullscreen></iframe>
          </div>
      </div>
  </div>

  </ng-template>

  <swal #popupExitoso></swal>
  <swal #fallido></swal>

  <app-popup #popup></app-popup>
