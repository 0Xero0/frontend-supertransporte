<div class="px-sm-2 px-md-3 px-lg-4 my-4" *ngIf="reporte">
    <h3 class="texto-primario fw-semibold" *ngIf="encuesta">
        Resumen - ficha cuestionario - indicadores
    </h3>
    <h6 class="texto-primario fw-semibold">Reporte número {{idReporte}}</h6>
    <div class="row">
        <div class="col-md-12 col-lg-8">
            <form class="mb-4" *ngIf="encuesta">
                <div class="row">
                    <div class="col">
                        <div class="row mb-2">
                            <div class="col">NIT</div>
                            <div class="">
                                <input type="text" class="form-control" disabled [value]="reporte.idVigilado">
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col">Razón social</div>
                            <div class="">
                                <input type="text" class="form-control" disabled [value]="reporte.razonSocila">
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col">Estado actual</div>
                            <div class="">
                                <input type="text" class="form-control" disabled [value]="reporte.estadoActual">
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col">Clasificación según resolución 20223040040595 DE 2022</div>
                            <div class="">
                                <input type="text" class="form-control" disabled [value]="reporte.clasificaion">
                            </div>
                        </div>
                        <div class="row mb-3" *ngIf="encuesta">
                          <div class="col">
                            <label for="modalidadTextarea" class="">Modalidad</label>
                            <textarea 
                              #modalidadTextarea
                              class="form-control text-area" 
                              [value]="reporte.modalidad"
                              disabled
                              rows="1"  
                              style="resize: none; overflow-y: auto; height: auto;" 
                              [ngStyle]="{'height': modalidadTextarea.scrollHeight + 'px'}"></textarea>
                          </div>
                        </div>
                    </div>

          <div class="col">
            <div class="row mb-2">
              <div class="col">Total de conductores</div>
              <div class="">
                <input type="text" class="form-control" disabled [value]="reporte.totalConductores">
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">Total de vehículos</div>
              <div class="">
                <input type="text" class="form-control" disabled [value]="reporte.totalVehiculos">
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">Evidencias entregadas</div>
              <div class="">
                <input type="text" class="form-control" disabled value="{{evidenciaEntregada}} %">
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">Variables entregadas</div>
              <div class="">
                <input type="text" class="form-control" disabled value="{{variablesEntregadas}} %">
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-12 col-lg-4" *ngIf="reporte">
      <div class="table-responsive tabla-envios-st ">
        <table class="table tabla-primaria fs-14px">
          <thead>
            <tr>
              <th>Mes</th>
              <th>Envío a ST</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let enviadoSt of reporte.enviadosSt">
              <td>{{ enviadoSt.mes }}</td>
              <td>{{ enviadoSt.envioSt }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- <div class="d-block w-100 mb-3" *ngIf="esUsuarioAdministrador">
    <div class="row mb-3">
      <div class="col-5">
        <textarea id="textArea" class="form-control" style="height: 130px; resize: none;" [readOnly]="aprobado">
                  {{observacionAdmin}}
              </textarea>
      </div>
      <div class="col-2" style="text-align: justify;">
        <br><br>
        <div class="row mb-3">
          <button id="aprobar" class="boton primario relleno" [disabled]="aprobado"
            (click)="abrirModalAprobarObservacion(true)">
            Aprobar
          </button>
        </div>
        <div class="row mb-3">
          <button id="devolver" type="button" class="boton primario relleno" [disabled]="aprobado"
            (click)="abrirModalAprobarObservacion(false)">
            Devolver
          </button>
        </div>
      </div>
    </div>
  </div> -->

  <div class="d-flex justify-content-left align-items-center mb-4">
    <button type="button" class="boton primario delineado" (click)="enviarVerificacion()" [disabled]="hayCambios">Enviar
    </button>

    <button type="button" class="boton primario relleno" (click)="guardarVerificacion()"
      [disabled]="!hayCambios || soloLecturaV">Guardar</button>

    <button type="button" class="boton primario delineado"
      [routerLink]="['/administrar', 'verificar-reportes', 'fase-dos', 'reportes']">Volver</button>
  </div>

  <app-encuesta-cuantitativa #encuesta [encuesta]="reporte" [historico]="historico" [habilitarCamposVigilado]="false"
    [habilitarCamposVerificador]="true" (cambioDeMes)="obtenerReporte($event)"
    (hanHabidoCambios)="setHayCambios($event)" (formularioGuardado)="manejarFormularioGuardado($event)" />
</div>
<app-modal-aprobar-observacion2 #modalAprobarObservacion2></app-modal-aprobar-observacion2>
